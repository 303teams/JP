<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

    <mapper namespace="com.bjtu.dao.CourseDao">

        <select id="findTHCourse" resultType="java.util.Map" parameterType="string">
        SELECT course.*
        FROM teacher
            LEFT JOIN course ON teacher.id = course.tno
        WHERE teacher.id = #{id}
    </select>

    <select id="findSTCourse" resultType="java.util.Map" parameterType="string">
        SELECT course.*,teacher.name as teacherName
        FROM student
                 JOIN sc ON student.id = sc.sno
                 JOIN course ON sc.cno = course.cno
                 LEFT JOIN teacher ON course.tno = teacher.id
        WHERE student.id = #{id}
    </select>

    <!--    根据cno和id修改course中的tno-->
    <update id="updateCourseTno" parameterType="java.util.Map">
        update course set tno = #{id}
        where cno = #{cno}
    </update>



</mapper>